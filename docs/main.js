(()=>{"use strict";function n(n,t,e){const o=n.createShader(t);if(n.shaderSource(o,e),n.compileShader(o),!n.getShaderParameter(o,n.COMPILE_STATUS))throw new Error(n.getShaderInfoLog(o));return o}function t(n,t,e){n.bindBuffer(n.ARRAY_BUFFER,n.createBuffer()),n.bufferData(n.ARRAY_BUFFER,new Float32Array(t),n.STATIC_DRAW),n.enableVertexAttribArray(e),n.vertexAttribPointer(e,3,n.FLOAT,!1,0,0)}const e={demo01:()=>{return e=void 0,o=void 0,i=function*(){const e=document.body.appendChild(document.createElement("canvas"));e.width=500,e.height=500;const o=e.getContext("webgl2");o.clearColor(0,0,0,1);const r=o.createProgram();o.attachShader(r,n(o,o.VERTEX_SHADER,"#version 300 es\n\nin vec3 position;\nin vec3 color;\n\nout vec3 vColor;\n\nuniform mat4 transform;\n\nvoid main() {\n  gl_Position = transform * vec4(position, 1.0);\n  vColor = color;\n}\n")),o.attachShader(r,n(o,o.FRAGMENT_SHADER,"#version 300 es\nprecision mediump float;\n\nin vec3 vColor;\n\nout vec4 fColor;\n\nvoid main() {\n  fColor = vec4(vColor, 1.0);\n}\n")),o.linkProgram(r),o.useProgram(r),t(o,[0,1,0,1,-1,0,-1,-1,0],o.getAttribLocation(r,"position")),t(o,[1,0,0,0,1,0,0,0,1],o.getAttribLocation(r,"color")),o.uniformMatrix4fv(o.getUniformLocation(r,"transform"),!1,[.5,0,0,0,0,.5,0,0,0,0,.5,0,0,0,0,1]),o.useProgram(r),o.clear(o.COLOR_BUFFER_BIT),o.drawArrays(o.TRIANGLES,0,3)},new((r=void 0)||(r=Promise))((function(n,t){function a(n){try{A(i.next(n))}catch(n){t(n)}}function u(n){try{A(i.throw(n))}catch(n){t(n)}}function A(t){var e;t.done?n(t.value):(e=t.value,e instanceof r?e:new r((function(n){n(e)}))).then(a,u)}A((i=i.apply(e,o||[])).next())}));var e,o,r,i},demo02:()=>{return t=void 0,e=void 0,r=function*(){const t=document.body.appendChild(document.createElement("canvas")).getContext("webgl2"),e=t.createProgram();t.attachShader(e,n(t,t.VERTEX_SHADER,"#version 300 es\n\nout vec4 result;\n\nvoid main(void) {\n  result = vec4(1.0, 2.0, 3.0, 4.0) * 2.0;\n}\n")),t.attachShader(e,n(t,t.FRAGMENT_SHADER,"#version 300 es\n\nvoid main(void) {\n}\n")),t.transformFeedbackVaryings(e,["result"],t.SEPARATE_ATTRIBS),t.linkProgram(e),t.useProgram(e),t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,t.createTransformFeedback());const o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,4*Float32Array.BYTES_PER_ELEMENT,t.DYNAMIC_COPY),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,0,o),t.enable(t.RASTERIZER_DISCARD),t.beginTransformFeedback(t.POINTS),t.drawArrays(t.POINTS,0,1),t.endTransformFeedback(),t.disable(t.RASTERIZER_DISCARD);const r=new Float32Array(4);t.getBufferSubData(t.TRANSFORM_FEEDBACK_BUFFER,0,r),console.log(r)},new((o=void 0)||(o=Promise))((function(n,i){function a(n){try{A(r.next(n))}catch(n){i(n)}}function u(n){try{A(r.throw(n))}catch(n){i(n)}}function A(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(n){n(e)}))).then(a,u)}A((r=r.apply(t,e||[])).next())}));var t,e,o,r},demo03:()=>{return t=void 0,e=void 0,r=function*(){const t=document.body.appendChild(document.createElement("canvas"));t.width=500,t.height=500;const e=t.getContext("webgl2");e.clearColor(0,0,0,1);const o=e.createProgram();e.attachShader(o,n(e,e.VERTEX_SHADER,"#version 300 es\n\nin vec2 position;\nin vec2 velocity;\n\nout vec2 vPosition;\nout vec2 vVelocity;\n\nuniform vec2 mouse;\n\nvoid main(void) {\n  gl_Position = vec4(position, 0.0, 1.0);\n  gl_PointSize = 2.0;\n  vPosition = position + velocity * 0.2;\n  // 重力加速\n  vVelocity = velocity + ((mouse - position) / pow(distance(mouse, position) + 1.0, 2.0)) * 0.05;\n  // 空気抵抗\n  vVelocity -= velocity * pow(length(velocity), 2.0) * 0.05;\n}\n")),e.attachShader(o,n(e,e.FRAGMENT_SHADER,"#version 300 es\nprecision mediump float;\n\nout vec4 fColor;\n\nvoid main(void) {\n  fColor = vec4(1.0, 0.0, 0.0, 1.0);\n}\n")),e.transformFeedbackVaryings(o,["vPosition","vVelocity"],e.INTERLEAVED_ATTRIBS),e.linkProgram(o),e.useProgram(o);const r=5e4,i=[];for(let n=0;n<r;n++)i.push(2*(Math.random()-.5)),i.push(2*(Math.random()-.5)),i.push(0),i.push(0);const a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STREAM_COPY);const u=e.getAttribLocation(o,"position");e.enableVertexAttribArray(u),e.vertexAttribPointer(u,2,e.FLOAT,!1,4*Float32Array.BYTES_PER_ELEMENT,0);const A=e.getAttribLocation(o,"velocity");e.enableVertexAttribArray(A),e.vertexAttribPointer(A,2,e.FLOAT,!1,4*Float32Array.BYTES_PER_ELEMENT,2*Float32Array.BYTES_PER_ELEMENT),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,e.createTransformFeedback());const c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,Float32Array.BYTES_PER_ELEMENT*r*4,e.STREAM_COPY),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,c),t.addEventListener("mousemove",(n=>{const r=2*(n.offsetX/t.width-.5),i=2*(n.offsetY/t.height-.5);e.uniform2f(e.getUniformLocation(o,"mouse"),r,-i)}),!1);const B=[a,c],F=()=>{e.beginTransformFeedback(e.POINTS),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.POINTS,0,r),e.endTransformFeedback(),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,B[0]),e.bindBuffer(e.ARRAY_BUFFER,B[1]),e.vertexAttribPointer(u,2,e.FLOAT,!1,4*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(A,2,e.FLOAT,!1,4*Float32Array.BYTES_PER_ELEMENT,2*Float32Array.BYTES_PER_ELEMENT),B.reverse(),requestAnimationFrame(F)};F()},new((o=void 0)||(o=Promise))((function(n,i){function a(n){try{A(r.next(n))}catch(n){i(n)}}function u(n){try{A(r.throw(n))}catch(n){i(n)}}function A(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(n){n(e)}))).then(a,u)}A((r=r.apply(t,e||[])).next())}));var t,e,o,r},demo04:()=>{return t=void 0,e=void 0,r=function*(){const t=document.body.appendChild(document.createElement("canvas")).getContext("webgl2"),e=t.createProgram();t.attachShader(e,n(t,t.VERTEX_SHADER,"#version 300 es\n\nflat out uvec4 result;\n\nuint F(uint X, uint Y, uint Z) {\n  return X & Y | ~X  & Z;\n}\n\nuint G(uint X, uint Y, uint Z) {\n  return X & Y | X & Z | Y & Z;\n}\n\nuint H(uint X, uint Y, uint Z) {\n  return X ^ Y ^ Z;\n}\n\nuint rotate(uint a, int s) {\n  return a << s | a >> (32 - s);\n}\n\nvoid FF(inout uint a, uint b, uint c, uint d, uint x, int s) {\n  a = rotate(a + F(b, c, d) + x, s);\n}\n\nvoid GG(inout uint a, uint b, uint c, uint d, uint x, int s) {\n  a = rotate(a + G(b, c, d) + x + 0x5a827999u, s);\n}\n\nvoid HH(inout uint a, uint b, uint c, uint d, uint x, int s) {\n  a = rotate(a + H(b, c, d) + x + 0x6ed9eba1u, s);\n}\n\nuint A = 0x67452301u;\nuint B = 0xefcdab89u;\nuint C = 0x98badcfeu;\nuint D = 0x10325476u;\n\nvoid update(uint X[16]) {\n  uint AA = A;\n  uint BB = B;\n  uint CC = C;\n  uint DD = D;\n\n  FF(A, B, C, D, X[0], 3);\n  FF(D, A, B, C, X[1], 7);\n  FF(C, D, A, B, X[2], 11);\n  FF(B, C, D, A, X[3], 19);\n  FF(A, B, C, D, X[4], 3);\n  FF(D, A, B, C, X[5], 7);\n  FF(C, D, A, B, X[6], 11);\n  FF(B, C, D, A, X[7], 19);\n  FF(A, B, C, D, X[8], 3);\n  FF(D, A, B, C, X[9], 7);\n  FF(C, D, A, B, X[10], 11);\n  FF(B, C, D, A, X[11], 19);\n  FF(A, B, C, D, X[12], 3);\n  FF(D, A, B, C, X[13], 7);\n  FF(C, D, A, B, X[14], 11);\n  FF(B, C, D, A, X[15], 19);\n\n  GG(A, B, C, D, X[0], 3);\n  GG(D, A, B, C, X[4], 5);\n  GG(C, D, A, B, X[8], 9);\n  GG(B, C, D, A, X[12], 13);\n  GG(A, B, C, D, X[1], 3);\n  GG(D, A, B, C, X[5], 5);\n  GG(C, D, A, B, X[9], 9);\n  GG(B, C, D, A, X[13], 13);\n  GG(A, B, C, D, X[2], 3);\n  GG(D, A, B, C, X[6], 5);\n  GG(C, D, A, B, X[10], 9);\n  GG(B, C, D, A, X[14], 13);\n  GG(A, B, C, D, X[3], 3);\n  GG(D, A, B, C, X[7], 5);\n  GG(C, D, A, B, X[11], 9);\n  GG(B, C, D, A, X[15], 13);\n\n  HH(A, B, C, D, X[0], 3);\n  HH(D, A, B, C, X[8], 9);\n  HH(C, D, A, B, X[4], 11);\n  HH(B, C, D, A, X[12], 15);\n  HH(A, B, C, D, X[2], 3);\n  HH(D, A, B, C, X[10], 9);\n  HH(C, D, A, B, X[6], 11);\n  HH(B, C, D, A, X[14], 15);\n  HH(A, B, C, D, X[1], 3);\n  HH(D, A, B, C, X[9], 9);\n  HH(C, D, A, B, X[5], 11);\n  HH(B, C, D, A, X[13], 15);\n  HH(A, B, C, D, X[3], 3);\n  HH(D, A, B, C, X[11], 9);\n  HH(C, D, A, B, X[7], 11);\n  HH(B, C, D, A, X[15], 15);\n\n  A += AA;\n  B += BB;\n  C += CC;\n  D += DD;\n}\n\nvoid main(void) {\n  // 'baaa' の md4 を計算\n  update(uint[](\n    0x61616162u, 0x80u, 0u, 0u,\n    0u, 0u, 0u, 0u,\n    0u, 0u, 0u, 0u,\n    0u, 0u, 32u, 0u));\n  result = uvec4(A, B, C, D);\n}\n")),t.attachShader(e,n(t,t.FRAGMENT_SHADER,"#version 300 es\n\nvoid main(void) {\n}\n")),t.transformFeedbackVaryings(e,["result"],t.SEPARATE_ATTRIBS),t.linkProgram(e),t.useProgram(e),t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,t.createTransformFeedback());const o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,16*Uint8Array.BYTES_PER_ELEMENT,t.DYNAMIC_COPY),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,0,o),t.enable(t.RASTERIZER_DISCARD),t.beginTransformFeedback(t.POINTS),t.drawArrays(t.POINTS,0,1),t.endTransformFeedback(),t.disable(t.RASTERIZER_DISCARD);const r=new Uint8Array(16);t.getBufferSubData(t.TRANSFORM_FEEDBACK_BUFFER,0,r);let i="";for(const n of r)i+=n.toString(16);console.log(i)},new((o=void 0)||(o=Promise))((function(n,i){function a(n){try{A(r.next(n))}catch(n){i(n)}}function u(n){try{A(r.throw(n))}catch(n){i(n)}}function A(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(n){n(e)}))).then(a,u)}A((r=r.apply(t,e||[])).next())}));var t,e,o,r},demo05:()=>{return t=void 0,e=void 0,r=function*(){const t=1<<24,e=document.body.appendChild(document.createElement("canvas")).getContext("webgl2"),o=e.createProgram();e.attachShader(o,n(e,e.VERTEX_SHADER,"#version 300 es\n\nin uint acc;\n\nflat out uint result;\n\nuniform uint step;\n\nuint F(uint X, uint Y, uint Z) {\n  return X & Y | ~X  & Z;\n}\n\nuint G(uint X, uint Y, uint Z) {\n  return X & Y | X & Z | Y & Z;\n}\n\nuint H(uint X, uint Y, uint Z) {\n  return X ^ Y ^ Z;\n}\n\nuint rotate(uint a, int s) {\n  return a << s | a >> (32 - s);\n}\n\nvoid FF(inout uint a, uint b, uint c, uint d, uint x, int s) {\n  a = rotate(a + F(b, c, d) + x, s);\n}\n\nvoid GG(inout uint a, uint b, uint c, uint d, uint x, int s) {\n  a = rotate(a + G(b, c, d) + x + 0x5a827999u, s);\n}\n\nvoid HH(inout uint a, uint b, uint c, uint d, uint x, int s) {\n  a = rotate(a + H(b, c, d) + x + 0x6ed9eba1u, s);\n}\n\nuint A = 0x67452301u;\nuint B = 0xefcdab89u;\nuint C = 0x98badcfeu;\nuint D = 0x10325476u;\n\nvoid update(uint X[16]) {\n  uint AA = A;\n  uint BB = B;\n  uint CC = C;\n  uint DD = D;\n\n  FF(A, B, C, D, X[0], 3);\n  FF(D, A, B, C, X[1], 7);\n  FF(C, D, A, B, X[2], 11);\n  FF(B, C, D, A, X[3], 19);\n  FF(A, B, C, D, X[4], 3);\n  FF(D, A, B, C, X[5], 7);\n  FF(C, D, A, B, X[6], 11);\n  FF(B, C, D, A, X[7], 19);\n  FF(A, B, C, D, X[8], 3);\n  FF(D, A, B, C, X[9], 7);\n  FF(C, D, A, B, X[10], 11);\n  FF(B, C, D, A, X[11], 19);\n  FF(A, B, C, D, X[12], 3);\n  FF(D, A, B, C, X[13], 7);\n  FF(C, D, A, B, X[14], 11);\n  FF(B, C, D, A, X[15], 19);\n\n  GG(A, B, C, D, X[0], 3);\n  GG(D, A, B, C, X[4], 5);\n  GG(C, D, A, B, X[8], 9);\n  GG(B, C, D, A, X[12], 13);\n  GG(A, B, C, D, X[1], 3);\n  GG(D, A, B, C, X[5], 5);\n  GG(C, D, A, B, X[9], 9);\n  GG(B, C, D, A, X[13], 13);\n  GG(A, B, C, D, X[2], 3);\n  GG(D, A, B, C, X[6], 5);\n  GG(C, D, A, B, X[10], 9);\n  GG(B, C, D, A, X[14], 13);\n  GG(A, B, C, D, X[3], 3);\n  GG(D, A, B, C, X[7], 5);\n  GG(C, D, A, B, X[11], 9);\n  GG(B, C, D, A, X[15], 13);\n\n  HH(A, B, C, D, X[0], 3);\n  HH(D, A, B, C, X[8], 9);\n  HH(C, D, A, B, X[4], 11);\n  HH(B, C, D, A, X[12], 15);\n  HH(A, B, C, D, X[2], 3);\n  HH(D, A, B, C, X[10], 9);\n  HH(C, D, A, B, X[6], 11);\n  HH(B, C, D, A, X[14], 15);\n  HH(A, B, C, D, X[1], 3);\n  HH(D, A, B, C, X[9], 9);\n  HH(C, D, A, B, X[5], 11);\n  HH(B, C, D, A, X[13], 15);\n  HH(A, B, C, D, X[3], 3);\n  HH(D, A, B, C, X[11], 9);\n  HH(C, D, A, B, X[7], 11);\n  HH(B, C, D, A, X[15], 15);\n\n  A += AA;\n  B += BB;\n  C += CC;\n  D += DD;\n}\n\nvoid main(void) {\n  // ハッシュ値の先頭が 00000000 の入力を探す\n  uint word = step << 24 | uint(gl_VertexID);\n  update(uint[](\n    word, 0x80u, 0u, 0u,\n    0u, 0u, 0u, 0u,\n    0u, 0u, 0u, 0u,\n    0u, 0u, 32u, 0u));\n  result = (A == 0x00000000u) ? word : acc;\n}\n")),e.attachShader(o,n(e,e.FRAGMENT_SHADER,"#version 300 es\n\nvoid main(void) {\n}\n")),e.transformFeedbackVaryings(o,["result"],e.SEPARATE_ATTRIBS),e.linkProgram(o),e.useProgram(o);const r=e.getAttribLocation(o,"acc");e.enableVertexAttribArray(r);const i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,Uint32Array.BYTES_PER_ELEMENT*t,e.STREAM_COPY),e.vertexAttribIPointer(r,1,e.UNSIGNED_INT,0,0);const a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,Uint32Array.BYTES_PER_ELEMENT*t,e.STREAM_COPY),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,e.createTransformFeedback()),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,a);const u=performance.now();e.enable(e.RASTERIZER_DISCARD);const A=[i,a];for(let n=0;n<256;n++)e.uniform1ui(e.getUniformLocation(o,"step"),n),e.beginTransformFeedback(e.POINTS),e.drawArrays(e.POINTS,0,t),e.endTransformFeedback(),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,A[0]),e.bindBuffer(e.ARRAY_BUFFER,A[1]),e.vertexAttribIPointer(r,1,e.UNSIGNED_INT,0,0),A.reverse();e.disable(e.RASTERIZER_DISCARD),e.finish();const c=new Uint32Array(t);e.getBufferSubData(e.TRANSFORM_FEEDBACK_BUFFER,0,c),c.forEach((n=>{0!=n&&console.log(n)}));const B=performance.now();console.log(`duration: ${Math.round(B-u)} ms`),console.log(`hash rate: ${Math.round(256*t*1e3/(B-u)/Math.pow(1024,2))} MH/s`)},new((o=void 0)||(o=Promise))((function(n,i){function a(n){try{A(r.next(n))}catch(n){i(n)}}function u(n){try{A(r.throw(n))}catch(n){i(n)}}function A(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(n){n(e)}))).then(a,u)}A((r=r.apply(t,e||[])).next())}));var t,e,o,r},demo06:()=>{return t=void 0,e=void 0,r=function*(){const t=65536,e=document.body.appendChild(document.createElement("canvas")).getContext("webgl2"),o=e.createProgram();e.attachShader(o,n(e,e.VERTEX_SHADER,"#version 300 es\n\nflat out uint result;\n\nuint F(uint X, uint Y, uint Z) {\n  return X & Y | ~X  & Z;\n}\n\nuint G(uint X, uint Y, uint Z) {\n  return X & Y | X & Z | Y & Z;\n}\n\nuint H(uint X, uint Y, uint Z) {\n  return X ^ Y ^ Z;\n}\n\nuint rotate(uint a, int s) {\n  return a << s | a >> (32 - s);\n}\n\nvoid FF(inout uint a, uint b, uint c, uint d, uint x, int s) {\n  a = rotate(a + F(b, c, d) + x, s);\n}\n\nvoid GG(inout uint a, uint b, uint c, uint d, uint x, int s) {\n  a = rotate(a + G(b, c, d) + x + 0x5a827999u, s);\n}\n\nvoid HH(inout uint a, uint b, uint c, uint d, uint x, int s) {\n  a = rotate(a + H(b, c, d) + x + 0x6ed9eba1u, s);\n}\n\nuint A;\nuint B;\nuint C;\nuint D;\n\nvoid update(uint X[16]) {\n  uint AA = A;\n  uint BB = B;\n  uint CC = C;\n  uint DD = D;\n\n  FF(A, B, C, D, X[0], 3);\n  FF(D, A, B, C, X[1], 7);\n  FF(C, D, A, B, X[2], 11);\n  FF(B, C, D, A, X[3], 19);\n  FF(A, B, C, D, X[4], 3);\n  FF(D, A, B, C, X[5], 7);\n  FF(C, D, A, B, X[6], 11);\n  FF(B, C, D, A, X[7], 19);\n  FF(A, B, C, D, X[8], 3);\n  FF(D, A, B, C, X[9], 7);\n  FF(C, D, A, B, X[10], 11);\n  FF(B, C, D, A, X[11], 19);\n  FF(A, B, C, D, X[12], 3);\n  FF(D, A, B, C, X[13], 7);\n  FF(C, D, A, B, X[14], 11);\n  FF(B, C, D, A, X[15], 19);\n\n  GG(A, B, C, D, X[0], 3);\n  GG(D, A, B, C, X[4], 5);\n  GG(C, D, A, B, X[8], 9);\n  GG(B, C, D, A, X[12], 13);\n  GG(A, B, C, D, X[1], 3);\n  GG(D, A, B, C, X[5], 5);\n  GG(C, D, A, B, X[9], 9);\n  GG(B, C, D, A, X[13], 13);\n  GG(A, B, C, D, X[2], 3);\n  GG(D, A, B, C, X[6], 5);\n  GG(C, D, A, B, X[10], 9);\n  GG(B, C, D, A, X[14], 13);\n  GG(A, B, C, D, X[3], 3);\n  GG(D, A, B, C, X[7], 5);\n  GG(C, D, A, B, X[11], 9);\n  GG(B, C, D, A, X[15], 13);\n\n  HH(A, B, C, D, X[0], 3);\n  HH(D, A, B, C, X[8], 9);\n  HH(C, D, A, B, X[4], 11);\n  HH(B, C, D, A, X[12], 15);\n  HH(A, B, C, D, X[2], 3);\n  HH(D, A, B, C, X[10], 9);\n  HH(C, D, A, B, X[6], 11);\n  HH(B, C, D, A, X[14], 15);\n  HH(A, B, C, D, X[1], 3);\n  HH(D, A, B, C, X[9], 9);\n  HH(C, D, A, B, X[5], 11);\n  HH(B, C, D, A, X[13], 15);\n  HH(A, B, C, D, X[3], 3);\n  HH(D, A, B, C, X[11], 9);\n  HH(C, D, A, B, X[7], 11);\n  HH(B, C, D, A, X[15], 15);\n\n  A += AA;\n  B += BB;\n  C += CC;\n  D += DD;\n}\n\nvoid main(void) {\n  // ハッシュ値の先頭が 00000000 の入力を探す\n  for (uint i = 0u; i < 1u << 16; i++) {\n    A = 0x67452301u;\n    B = 0xefcdab89u;\n    C = 0x98badcfeu;\n    D = 0x10325476u;\n    uint word = i << 16 | uint(gl_VertexID);\n    update(uint[](\n      word, 0x80u, 0u, 0u,\n      0u, 0u, 0u, 0u,\n      0u, 0u, 0u, 0u,\n      0u, 0u, 32u, 0u));\n    if (A == 0x00000000u) {\n      result = word;\n    }\n  }\n}\n")),e.attachShader(o,n(e,e.FRAGMENT_SHADER,"#version 300 es\n\nvoid main(void) {\n}\n")),e.transformFeedbackVaryings(o,["result"],e.SEPARATE_ATTRIBS),e.linkProgram(o),e.useProgram(o),e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,e.createTransformFeedback());const r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,Uint32Array.BYTES_PER_ELEMENT*t,e.STREAM_COPY),e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBufferBase(e.TRANSFORM_FEEDBACK_BUFFER,0,r);const i=performance.now();e.enable(e.RASTERIZER_DISCARD),e.beginTransformFeedback(e.POINTS),e.drawArrays(e.POINTS,0,t),e.endTransformFeedback(),e.disable(e.RASTERIZER_DISCARD),e.finish();const a=new Uint32Array(t);e.getBufferSubData(e.TRANSFORM_FEEDBACK_BUFFER,0,a),a.forEach((n=>{0!=n&&console.log(n)}));const u=performance.now();console.log(`duration: ${Math.round(u-i)} ms`),console.log(`hash rate: ${Math.round(1e3*Math.pow(2,32)/(u-i)/Math.pow(1024,3))} GH/s`)},new((o=void 0)||(o=Promise))((function(n,i){function a(n){try{A(r.next(n))}catch(n){i(n)}}function u(n){try{A(r.throw(n))}catch(n){i(n)}}function A(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(n){n(e)}))).then(a,u)}A((r=r.apply(t,e||[])).next())}));var t,e,o,r}};function o(){const n=document.body.appendChild(document.createElement("ul"));for(const t in e){const e=n.appendChild(document.createElement("li")).appendChild(document.createElement("a"));e.href="./index.html?page="+t,e.textContent=t}}window.onload=()=>{return n=void 0,t=void 0,i=function*(){(e[new URL(window.location.href).searchParams.get("page")]||o)()},new((r=void 0)||(r=Promise))((function(e,o){function a(n){try{A(i.next(n))}catch(n){o(n)}}function u(n){try{A(i.throw(n))}catch(n){o(n)}}function A(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(n){n(t)}))).then(a,u)}A((i=i.apply(n,t||[])).next())}));var n,t,r,i}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUkwRyxJQUFJRixPQUFPRyxTQUFTTCxNQUFNTSxhQUFhQyxJQUFJLFVBQVlYLElBQ3RFLEVBL0JXLEtBRmdFdEUsT0ErQjNCLEtBN0IxQkEsRUFBSUMsV0FBVSxTQUFVQyxFQUFTQyxHQUMvQyxTQUFTQyxFQUFVQyxHQUFTLElBQU1DLEVBQUs5QixFQUFVK0IsS0FBS0YsR0FBa0MsQ0FBdkIsTUFBT0csR0FBS0wsRUFBT0ssRUFBSSxDQUFFLENBQzFGLFNBQVNDLEVBQVNKLEdBQVMsSUFBTUMsRUFBSzlCLEVBQWlCLE1BQUU2QixHQUFrQyxDQUF2QixNQUFPRyxHQUFLTCxFQUFPSyxFQUFJLENBQUUsQ0FDN0YsU0FBU0YsRUFBS0ksR0FKbEIsSUFBZUwsRUFJYUssRUFBT0MsS0FBT1QsRUFBUVEsRUFBT0wsUUFKMUNBLEVBSXlESyxFQUFPTCxNQUpoREEsYUFBaUJMLEVBQUlLLEVBQVEsSUFBSUwsR0FBRSxTQUFVRSxHQUFXQSxFQUFRRyxFQUFRLEtBSWpCTyxLQUFLUixFQUFXSyxFQUFXLENBQzdHSCxHQUFNOUIsRUFBWUEsRUFBVXFDLE1BQU12QyxFQUFTQyxHQUFjLEtBQUtnQyxPQUNsRSxJQVB3QyxJQUFVakMsRUFBU0MsRUFBWXlCLEVBQUd4QixDQWlDNUUsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYmdsLWdwZ3B1Ly4vc3JjL2NvbW1vbi50cyIsIndlYnBhY2s6Ly93ZWJnbC1ncGdwdS8uL3NyYy9tYWluLnRzIiwid2VicGFjazovL3dlYmdsLWdwZ3B1Ly4vc3JjL2RlbW8wMS9tYWluLnRzIiwid2VicGFjazovL3dlYmdsLWdwZ3B1Ly4vc3JjL2RlbW8wMS92ZXJ0Lmdsc2wudHMiLCJ3ZWJwYWNrOi8vd2ViZ2wtZ3BncHUvLi9zcmMvZGVtbzAxL2ZyYWcuZ2xzbC50cyIsIndlYnBhY2s6Ly93ZWJnbC1ncGdwdS8uL3NyYy9kZW1vMDIvbWFpbi50cyIsIndlYnBhY2s6Ly93ZWJnbC1ncGdwdS8uL3NyYy9kZW1vMDIvdmVydC5nbHNsLnRzIiwid2VicGFjazovL3dlYmdsLWdwZ3B1Ly4vc3JjL2RlbW8wMi9mcmFnLmdsc2wudHMiLCJ3ZWJwYWNrOi8vd2ViZ2wtZ3BncHUvLi9zcmMvZGVtbzAzL21haW4udHMiLCJ3ZWJwYWNrOi8vd2ViZ2wtZ3BncHUvLi9zcmMvZGVtbzAzL3ZlcnQuZ2xzbC50cyIsIndlYnBhY2s6Ly93ZWJnbC1ncGdwdS8uL3NyYy9kZW1vMDMvZnJhZy5nbHNsLnRzIiwid2VicGFjazovL3dlYmdsLWdwZ3B1Ly4vc3JjL2RlbW8wNC9tYWluLnRzIiwid2VicGFjazovL3dlYmdsLWdwZ3B1Ly4vc3JjL2RlbW8wNC92ZXJ0Lmdsc2wudHMiLCJ3ZWJwYWNrOi8vd2ViZ2wtZ3BncHUvLi9zcmMvZGVtbzA0L2ZyYWcuZ2xzbC50cyIsIndlYnBhY2s6Ly93ZWJnbC1ncGdwdS8uL3NyYy9kZW1vMDUvbWFpbi50cyIsIndlYnBhY2s6Ly93ZWJnbC1ncGdwdS8uL3NyYy9kZW1vMDUvdmVydC5nbHNsLnRzIiwid2VicGFjazovL3dlYmdsLWdwZ3B1Ly4vc3JjL2RlbW8wNS9mcmFnLmdsc2wudHMiLCJ3ZWJwYWNrOi8vd2ViZ2wtZ3BncHUvLi9zcmMvZGVtbzA2L21haW4udHMiLCJ3ZWJwYWNrOi8vd2ViZ2wtZ3BncHUvLi9zcmMvZGVtbzA2L3ZlcnQuZ2xzbC50cyIsIndlYnBhY2s6Ly93ZWJnbC1ncGdwdS8uL3NyYy9kZW1vMDYvZnJhZy5nbHNsLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBnZXRTaGFkZXIoZ2wsIHR5cGUsIHNvdXJjZSkge1xyXG4gICAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xyXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcclxuICAgIGdsLmNvbXBpbGVTaGFkZXIoc2hhZGVyKTtcclxuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc2hhZGVyO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2ZlckF0dHJpYkRhdGEoZ2wsIGRhdGEsIGxvYykge1xyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGdsLmNyZWF0ZUJ1ZmZlcigpKTtcclxuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KGRhdGEpLCBnbC5TVEFUSUNfRFJBVyk7XHJcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShsb2MpO1xyXG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2MsIDMsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XHJcbn1cclxuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5pbXBvcnQgZGVtbzAxIGZyb20gJy4vZGVtbzAxL21haW4nO1xyXG5pbXBvcnQgZGVtbzAyIGZyb20gJy4vZGVtbzAyL21haW4nO1xyXG5pbXBvcnQgZGVtbzAzIGZyb20gJy4vZGVtbzAzL21haW4nO1xyXG5pbXBvcnQgZGVtbzA0IGZyb20gJy4vZGVtbzA0L21haW4nO1xyXG5pbXBvcnQgZGVtbzA1IGZyb20gJy4vZGVtbzA1L21haW4nO1xyXG5pbXBvcnQgZGVtbzA2IGZyb20gJy4vZGVtbzA2L21haW4nO1xyXG5jb25zdCBwYWdlcyA9IHtcclxuICAgICdkZW1vMDEnOiBkZW1vMDEsXHJcbiAgICAnZGVtbzAyJzogZGVtbzAyLFxyXG4gICAgJ2RlbW8wMyc6IGRlbW8wMyxcclxuICAgICdkZW1vMDQnOiBkZW1vMDQsXHJcbiAgICAnZGVtbzA1JzogZGVtbzA1LFxyXG4gICAgJ2RlbW8wNic6IGRlbW8wNixcclxufTtcclxuZnVuY3Rpb24gaW5kZXgoKSB7XHJcbiAgICBjb25zdCB1bCA9IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKSk7XHJcbiAgICBmb3IgKGNvbnN0IHBhZ2UgaW4gcGFnZXMpIHtcclxuICAgICAgICBjb25zdCBhID0gdWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKSkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpKTtcclxuICAgICAgICBhLmhyZWYgPSAnLi9pbmRleC5odG1sP3BhZ2U9JyArIHBhZ2U7XHJcbiAgICAgICAgYS50ZXh0Q29udGVudCA9IHBhZ2U7XHJcbiAgICB9XHJcbn1cclxud2luZG93Lm9ubG9hZCA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgKHBhZ2VzW25ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtcy5nZXQoJ3BhZ2UnKV0gfHwgaW5kZXgpKCk7XHJcbn0pO1xyXG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbmltcG9ydCB7IGdldFNoYWRlciwgdHJhbnNmZXJBdHRyaWJEYXRhIH0gZnJvbSAnLi4vY29tbW9uJztcclxuaW1wb3J0IGZyYWdtZW50U2hhZGVyU291cmNlIGZyb20gJy4vZnJhZy5nbHNsJztcclxuaW1wb3J0IHZlcnRleFNoYWRlclNvdXJjZSBmcm9tICcuL3ZlcnQuZ2xzbCc7XHJcbi8qKlxyXG4gKiDkuInop5JcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgY29uc3QgY3ZzID0gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XHJcbiAgICBjdnMud2lkdGggPSA1MDA7XHJcbiAgICBjdnMuaGVpZ2h0ID0gNTAwO1xyXG4gICAgY29uc3QgZ2wgPSBjdnMuZ2V0Q29udGV4dCgnd2ViZ2wyJyk7XHJcbiAgICBnbC5jbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDEuMCk7XHJcbiAgICAvLyBjcmVhdGUgc2hhZGVyIHByb2dyYW1cclxuICAgIGNvbnN0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2V0U2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UpKTtcclxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnZXRTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpKTtcclxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIC8vIHBvc2l0aW9uXHJcbiAgICB0cmFuc2ZlckF0dHJpYkRhdGEoZ2wsIFtcclxuICAgICAgICAwLjAsIDEuMCwgMC4wLFxyXG4gICAgICAgIDEuMCwgLTEuMCwgMC4wLFxyXG4gICAgICAgIC0xLjAsIC0xLjAsIDAuMFxyXG4gICAgXSwgZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ3Bvc2l0aW9uJykpO1xyXG4gICAgLy8gY29sb3JcclxuICAgIHRyYW5zZmVyQXR0cmliRGF0YShnbCwgW1xyXG4gICAgICAgIDEuMCwgMC4wLCAwLjAsXHJcbiAgICAgICAgMC4wLCAxLjAsIDAuMCxcclxuICAgICAgICAwLjAsIDAuMCwgMS4wLFxyXG4gICAgXSwgZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ2NvbG9yJykpO1xyXG4gICAgLy8gdHJhbnNmb3JtICjjgqLjg5XjgqPjg7PlpInmj5spXHJcbiAgICBnbC51bmlmb3JtTWF0cml4NGZ2KGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndHJhbnNmb3JtJyksIGZhbHNlLCBbXHJcbiAgICAgICAgMC41LCAwLCAwLCAwLFxyXG4gICAgICAgIDAsIDAuNSwgMCwgMCxcclxuICAgICAgICAwLCAwLCAwLjUsIDAsXHJcbiAgICAgICAgMCwgMCwgMCwgMVxyXG4gICAgXSk7XHJcbiAgICAvLyBkcmF3XHJcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XHJcbiAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgMCwgMyk7XHJcbn0pO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBgI3ZlcnNpb24gMzAwIGVzXG5cbmluIHZlYzMgcG9zaXRpb247XG5pbiB2ZWMzIGNvbG9yO1xuXG5vdXQgdmVjMyB2Q29sb3I7XG5cbnVuaWZvcm0gbWF0NCB0cmFuc2Zvcm07XG5cbnZvaWQgbWFpbigpIHtcbiAgZ2xfUG9zaXRpb24gPSB0cmFuc2Zvcm0gKiB2ZWM0KHBvc2l0aW9uLCAxLjApO1xuICB2Q29sb3IgPSBjb2xvcjtcbn1cbmA7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGAjdmVyc2lvbiAzMDAgZXNcbnByZWNpc2lvbiBtZWRpdW1wIGZsb2F0O1xuXG5pbiB2ZWMzIHZDb2xvcjtcblxub3V0IHZlYzQgZkNvbG9yO1xuXG52b2lkIG1haW4oKSB7XG4gIGZDb2xvciA9IHZlYzQodkNvbG9yLCAxLjApO1xufVxuYDtcclxuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5pbXBvcnQgeyBnZXRTaGFkZXIgfSBmcm9tICcuLi9jb21tb24nO1xyXG5pbXBvcnQgZnJhZ21lbnRTaGFkZXJTb3VyY2UgZnJvbSAnLi9mcmFnLmdsc2wnO1xyXG5pbXBvcnQgdmVydGV4U2hhZGVyU291cmNlIGZyb20gJy4vdmVydC5nbHNsJztcclxuLyoqXHJcbiAqIFRyYW5zZm9ybSBGZWVkYmFja1xyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XHJcbiAgICBjb25zdCBjdnMgPSBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpKTtcclxuICAgIGNvbnN0IGdsID0gY3ZzLmdldENvbnRleHQoJ3dlYmdsMicpO1xyXG4gICAgLy8gY3JlYXRlIHNoYWRlciBwcm9ncmFtXHJcbiAgICBjb25zdCBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdldFNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlKSk7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2V0U2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKSk7XHJcbiAgICBnbC50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzKHByb2dyYW0sIFsncmVzdWx0J10sIGdsLlNFUEFSQVRFX0FUVFJJQlMpO1xyXG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgLy8gY3JlYXRlIGJ1ZmZlclxyXG4gICAgZ2wuYmluZFRyYW5zZm9ybUZlZWRiYWNrKGdsLlRSQU5TRk9STV9GRUVEQkFDSywgZ2wuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKSk7XHJcbiAgICBjb25zdCBidWZmID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZik7XHJcbiAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UICogNCwgZ2wuRFlOQU1JQ19DT1BZKTtcclxuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBudWxsKTtcclxuICAgIGdsLmJpbmRCdWZmZXJCYXNlKGdsLlRSQU5TRk9STV9GRUVEQkFDS19CVUZGRVIsIDAsIGJ1ZmYpO1xyXG4gICAgLy8gZHJhd1xyXG4gICAgZ2wuZW5hYmxlKGdsLlJBU1RFUklaRVJfRElTQ0FSRCk7XHJcbiAgICBnbC5iZWdpblRyYW5zZm9ybUZlZWRiYWNrKGdsLlBPSU5UUyk7XHJcbiAgICBnbC5kcmF3QXJyYXlzKGdsLlBPSU5UUywgMCwgMSk7XHJcbiAgICBnbC5lbmRUcmFuc2Zvcm1GZWVkYmFjaygpO1xyXG4gICAgZ2wuZGlzYWJsZShnbC5SQVNURVJJWkVSX0RJU0NBUkQpO1xyXG4gICAgLy8gZ2V0IHJlc3VsdFxyXG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcclxuICAgIGdsLmdldEJ1ZmZlclN1YkRhdGEoZ2wuVFJBTlNGT1JNX0ZFRURCQUNLX0JVRkZFUiwgMCwgcmVzdWx0KTtcclxuICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbn0pO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBgI3ZlcnNpb24gMzAwIGVzXG5cbm91dCB2ZWM0IHJlc3VsdDtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgcmVzdWx0ID0gdmVjNCgxLjAsIDIuMCwgMy4wLCA0LjApICogMi4wO1xufVxuYDtcclxuIiwiZXhwb3J0IGRlZmF1bHQgYCN2ZXJzaW9uIDMwMCBlc1xuXG52b2lkIG1haW4odm9pZCkge1xufVxuYDtcclxuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG5pbXBvcnQgeyBnZXRTaGFkZXIgfSBmcm9tICcuLi9jb21tb24nO1xyXG5pbXBvcnQgZnJhZ21lbnRTaGFkZXJTb3VyY2UgZnJvbSAnLi9mcmFnLmdsc2wnO1xyXG5pbXBvcnQgdmVydGV4U2hhZGVyU291cmNlIGZyb20gJy4vdmVydC5nbHNsJztcclxuLyoqXHJcbiAqIFBhcnRpY2xlXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgIGNvbnN0IGN2cyA9IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpO1xyXG4gICAgY3ZzLndpZHRoID0gNTAwO1xyXG4gICAgY3ZzLmhlaWdodCA9IDUwMDtcclxuICAgIGNvbnN0IGdsID0gY3ZzLmdldENvbnRleHQoJ3dlYmdsMicpO1xyXG4gICAgZ2wuY2xlYXJDb2xvcigwLjAsIDAuMCwgMC4wLCAxLjApO1xyXG4gICAgLy8gY3JlYXRlIHNoYWRlciBwcm9ncmFtXHJcbiAgICBjb25zdCBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdldFNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlKSk7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2V0U2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKSk7XHJcbiAgICBnbC50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzKHByb2dyYW0sIFsndlBvc2l0aW9uJywgJ3ZWZWxvY2l0eSddLCBnbC5JTlRFUkxFQVZFRF9BVFRSSUJTKTtcclxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIC8vIGNyZWF0ZSBidWZmZXJcclxuICAgIGNvbnN0IE4gPSA1MDAwMDtcclxuICAgIGNvbnN0IHBhcnRpY2xlcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBOOyBpKyspIHtcclxuICAgICAgICAvLyBwb3NpdGlvblxyXG4gICAgICAgIHBhcnRpY2xlcy5wdXNoKChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDIpO1xyXG4gICAgICAgIHBhcnRpY2xlcy5wdXNoKChNYXRoLnJhbmRvbSgpIC0gMC41KSAqIDIpO1xyXG4gICAgICAgIC8vIHZlbG9jaXR5XHJcbiAgICAgICAgcGFydGljbGVzLnB1c2goMC4wKTtcclxuICAgICAgICBwYXJ0aWNsZXMucHVzaCgwLjApO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYnVmZjAgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmMCk7XHJcbiAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEZsb2F0MzJBcnJheShwYXJ0aWNsZXMpLCBnbC5TVFJFQU1fQ09QWSk7XHJcbiAgICAvLyBwb3NpdGlvblxyXG4gICAgY29uc3QgcG9zTG9jID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ3Bvc2l0aW9uJyk7XHJcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3NMb2MpO1xyXG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NMb2MsIDIsIGdsLkZMT0FULCBmYWxzZSwgRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UICogNCwgMCk7XHJcbiAgICAvLyB2ZWxvY2l0eVxyXG4gICAgY29uc3QgdmVsTG9jID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ3ZlbG9jaXR5Jyk7XHJcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh2ZWxMb2MpO1xyXG4gICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcih2ZWxMb2MsIDIsIGdsLkZMT0FULCBmYWxzZSwgRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UICogNCwgRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UICogMik7XHJcbiAgICBnbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soZ2wuVFJBTlNGT1JNX0ZFRURCQUNLLCBnbC5jcmVhdGVUcmFuc2Zvcm1GZWVkYmFjaygpKTtcclxuICAgIGNvbnN0IGJ1ZmYxID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZjEpO1xyXG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCAqIE4gKiA0LCBnbC5TVFJFQU1fQ09QWSk7XHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICBnbC5iaW5kQnVmZmVyQmFzZShnbC5UUkFOU0ZPUk1fRkVFREJBQ0tfQlVGRkVSLCAwLCBidWZmMSk7XHJcbiAgICAvLyBtb3VzZVxyXG4gICAgY3ZzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1vdXNlWCA9ICgoZXZlbnQub2Zmc2V0WCAvIGN2cy53aWR0aCkgLSAwLjUpICogMi4wO1xyXG4gICAgICAgIGNvbnN0IG1vdXNlWSA9ICgoZXZlbnQub2Zmc2V0WSAvIGN2cy5oZWlnaHQpIC0gMC41KSAqIDIuMDtcclxuICAgICAgICBnbC51bmlmb3JtMmYoZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICdtb3VzZScpLCBtb3VzZVgsIC1tb3VzZVkpO1xyXG4gICAgfSwgZmFsc2UpO1xyXG4gICAgLy8gZHJhd1xyXG4gICAgY29uc3QgYnVmZiA9IFtidWZmMCwgYnVmZjFdO1xyXG4gICAgY29uc3Qgc3RlcCA9ICgpID0+IHtcclxuICAgICAgICBnbC5iZWdpblRyYW5zZm9ybUZlZWRiYWNrKGdsLlBPSU5UUyk7XHJcbiAgICAgICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XHJcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5QT0lOVFMsIDAsIE4pO1xyXG4gICAgICAgIGdsLmVuZFRyYW5zZm9ybUZlZWRiYWNrKCk7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlckJhc2UoZ2wuVFJBTlNGT1JNX0ZFRURCQUNLX0JVRkZFUiwgMCwgYnVmZlswXSk7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZbMV0pO1xyXG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zTG9jLCAyLCBnbC5GTE9BVCwgZmFsc2UsIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCAqIDQsIDApO1xyXG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodmVsTG9jLCAyLCBnbC5GTE9BVCwgZmFsc2UsIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCAqIDQsIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCAqIDIpO1xyXG4gICAgICAgIGJ1ZmYucmV2ZXJzZSgpO1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwKTtcclxuICAgIH07XHJcbiAgICBzdGVwKCk7XHJcbn0pO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBgI3ZlcnNpb24gMzAwIGVzXG5cbmluIHZlYzIgcG9zaXRpb247XG5pbiB2ZWMyIHZlbG9jaXR5O1xuXG5vdXQgdmVjMiB2UG9zaXRpb247XG5vdXQgdmVjMiB2VmVsb2NpdHk7XG5cbnVuaWZvcm0gdmVjMiBtb3VzZTtcblxudm9pZCBtYWluKHZvaWQpIHtcbiAgZ2xfUG9zaXRpb24gPSB2ZWM0KHBvc2l0aW9uLCAwLjAsIDEuMCk7XG4gIGdsX1BvaW50U2l6ZSA9IDIuMDtcbiAgdlBvc2l0aW9uID0gcG9zaXRpb24gKyB2ZWxvY2l0eSAqIDAuMjtcbiAgLy8g6YeN5Yqb5Yqg6YCfXG4gIHZWZWxvY2l0eSA9IHZlbG9jaXR5ICsgKChtb3VzZSAtIHBvc2l0aW9uKSAvIHBvdyhkaXN0YW5jZShtb3VzZSwgcG9zaXRpb24pICsgMS4wLCAyLjApKSAqIDAuMDU7XG4gIC8vIOepuuawl+aKteaKl1xuICB2VmVsb2NpdHkgLT0gdmVsb2NpdHkgKiBwb3cobGVuZ3RoKHZlbG9jaXR5KSwgMi4wKSAqIDAuMDU7XG59XG5gO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBgI3ZlcnNpb24gMzAwIGVzXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcblxub3V0IHZlYzQgZkNvbG9yO1xuXG52b2lkIG1haW4odm9pZCkge1xuICBmQ29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCk7XG59XG5gO1xyXG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbmltcG9ydCB7IGdldFNoYWRlciB9IGZyb20gJy4uL2NvbW1vbic7XHJcbmltcG9ydCBmcmFnbWVudFNoYWRlclNvdXJjZSBmcm9tICcuL2ZyYWcuZ2xzbCc7XHJcbmltcG9ydCB2ZXJ0ZXhTaGFkZXJTb3VyY2UgZnJvbSAnLi92ZXJ0Lmdsc2wnO1xyXG4vKipcclxuICogTUQ0XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgIGNvbnN0IGN2cyA9IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykpO1xyXG4gICAgY29uc3QgZ2wgPSBjdnMuZ2V0Q29udGV4dCgnd2ViZ2wyJyk7XHJcbiAgICAvLyBjcmVhdGUgc2hhZGVyIHByb2dyYW1cclxuICAgIGNvbnN0IHByb2dyYW0gPSBnbC5jcmVhdGVQcm9ncmFtKCk7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZ2V0U2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UpKTtcclxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnZXRTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpKTtcclxuICAgIGdsLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MocHJvZ3JhbSwgWydyZXN1bHQnXSwgZ2wuU0VQQVJBVEVfQVRUUklCUyk7XHJcbiAgICBnbC5saW5rUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAvLyBjcmVhdGUgYnVmZmVyXHJcbiAgICBnbC5iaW5kVHJhbnNmb3JtRmVlZGJhY2soZ2wuVFJBTlNGT1JNX0ZFRURCQUNLLCBnbC5jcmVhdGVUcmFuc2Zvcm1GZWVkYmFjaygpKTtcclxuICAgIGNvbnN0IGJ1ZmYgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmKTtcclxuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBVaW50OEFycmF5LkJZVEVTX1BFUl9FTEVNRU5UICogMTYsIGdsLkRZTkFNSUNfQ09QWSk7XHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgbnVsbCk7XHJcbiAgICBnbC5iaW5kQnVmZmVyQmFzZShnbC5UUkFOU0ZPUk1fRkVFREJBQ0tfQlVGRkVSLCAwLCBidWZmKTtcclxuICAgIC8vIGRyYXdcclxuICAgIGdsLmVuYWJsZShnbC5SQVNURVJJWkVSX0RJU0NBUkQpO1xyXG4gICAgZ2wuYmVnaW5UcmFuc2Zvcm1GZWVkYmFjayhnbC5QT0lOVFMpO1xyXG4gICAgZ2wuZHJhd0FycmF5cyhnbC5QT0lOVFMsIDAsIDEpO1xyXG4gICAgZ2wuZW5kVHJhbnNmb3JtRmVlZGJhY2soKTtcclxuICAgIGdsLmRpc2FibGUoZ2wuUkFTVEVSSVpFUl9ESVNDQVJEKTtcclxuICAgIC8vIGdldCByZXN1bHRcclxuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KDE2KTtcclxuICAgIGdsLmdldEJ1ZmZlclN1YkRhdGEoZ2wuVFJBTlNGT1JNX0ZFRURCQUNLX0JVRkZFUiwgMCwgcmVzdWx0KTtcclxuICAgIGxldCBoZXggPSAnJztcclxuICAgIGZvciAoY29uc3QgZSBvZiByZXN1bHQpIHtcclxuICAgICAgICBoZXggKz0gZS50b1N0cmluZygxNik7XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhoZXgpO1xyXG59KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgYCN2ZXJzaW9uIDMwMCBlc1xuXG5mbGF0IG91dCB1dmVjNCByZXN1bHQ7XG5cbnVpbnQgRih1aW50IFgsIHVpbnQgWSwgdWludCBaKSB7XG4gIHJldHVybiBYICYgWSB8IH5YICAmIFo7XG59XG5cbnVpbnQgRyh1aW50IFgsIHVpbnQgWSwgdWludCBaKSB7XG4gIHJldHVybiBYICYgWSB8IFggJiBaIHwgWSAmIFo7XG59XG5cbnVpbnQgSCh1aW50IFgsIHVpbnQgWSwgdWludCBaKSB7XG4gIHJldHVybiBYIF4gWSBeIFo7XG59XG5cbnVpbnQgcm90YXRlKHVpbnQgYSwgaW50IHMpIHtcbiAgcmV0dXJuIGEgPDwgcyB8IGEgPj4gKDMyIC0gcyk7XG59XG5cbnZvaWQgRkYoaW5vdXQgdWludCBhLCB1aW50IGIsIHVpbnQgYywgdWludCBkLCB1aW50IHgsIGludCBzKSB7XG4gIGEgPSByb3RhdGUoYSArIEYoYiwgYywgZCkgKyB4LCBzKTtcbn1cblxudm9pZCBHRyhpbm91dCB1aW50IGEsIHVpbnQgYiwgdWludCBjLCB1aW50IGQsIHVpbnQgeCwgaW50IHMpIHtcbiAgYSA9IHJvdGF0ZShhICsgRyhiLCBjLCBkKSArIHggKyAweDVhODI3OTk5dSwgcyk7XG59XG5cbnZvaWQgSEgoaW5vdXQgdWludCBhLCB1aW50IGIsIHVpbnQgYywgdWludCBkLCB1aW50IHgsIGludCBzKSB7XG4gIGEgPSByb3RhdGUoYSArIEgoYiwgYywgZCkgKyB4ICsgMHg2ZWQ5ZWJhMXUsIHMpO1xufVxuXG51aW50IEEgPSAweDY3NDUyMzAxdTtcbnVpbnQgQiA9IDB4ZWZjZGFiODl1O1xudWludCBDID0gMHg5OGJhZGNmZXU7XG51aW50IEQgPSAweDEwMzI1NDc2dTtcblxudm9pZCB1cGRhdGUodWludCBYWzE2XSkge1xuICB1aW50IEFBID0gQTtcbiAgdWludCBCQiA9IEI7XG4gIHVpbnQgQ0MgPSBDO1xuICB1aW50IEREID0gRDtcblxuICBGRihBLCBCLCBDLCBELCBYWzBdLCAzKTtcbiAgRkYoRCwgQSwgQiwgQywgWFsxXSwgNyk7XG4gIEZGKEMsIEQsIEEsIEIsIFhbMl0sIDExKTtcbiAgRkYoQiwgQywgRCwgQSwgWFszXSwgMTkpO1xuICBGRihBLCBCLCBDLCBELCBYWzRdLCAzKTtcbiAgRkYoRCwgQSwgQiwgQywgWFs1XSwgNyk7XG4gIEZGKEMsIEQsIEEsIEIsIFhbNl0sIDExKTtcbiAgRkYoQiwgQywgRCwgQSwgWFs3XSwgMTkpO1xuICBGRihBLCBCLCBDLCBELCBYWzhdLCAzKTtcbiAgRkYoRCwgQSwgQiwgQywgWFs5XSwgNyk7XG4gIEZGKEMsIEQsIEEsIEIsIFhbMTBdLCAxMSk7XG4gIEZGKEIsIEMsIEQsIEEsIFhbMTFdLCAxOSk7XG4gIEZGKEEsIEIsIEMsIEQsIFhbMTJdLCAzKTtcbiAgRkYoRCwgQSwgQiwgQywgWFsxM10sIDcpO1xuICBGRihDLCBELCBBLCBCLCBYWzE0XSwgMTEpO1xuICBGRihCLCBDLCBELCBBLCBYWzE1XSwgMTkpO1xuXG4gIEdHKEEsIEIsIEMsIEQsIFhbMF0sIDMpO1xuICBHRyhELCBBLCBCLCBDLCBYWzRdLCA1KTtcbiAgR0coQywgRCwgQSwgQiwgWFs4XSwgOSk7XG4gIEdHKEIsIEMsIEQsIEEsIFhbMTJdLCAxMyk7XG4gIEdHKEEsIEIsIEMsIEQsIFhbMV0sIDMpO1xuICBHRyhELCBBLCBCLCBDLCBYWzVdLCA1KTtcbiAgR0coQywgRCwgQSwgQiwgWFs5XSwgOSk7XG4gIEdHKEIsIEMsIEQsIEEsIFhbMTNdLCAxMyk7XG4gIEdHKEEsIEIsIEMsIEQsIFhbMl0sIDMpO1xuICBHRyhELCBBLCBCLCBDLCBYWzZdLCA1KTtcbiAgR0coQywgRCwgQSwgQiwgWFsxMF0sIDkpO1xuICBHRyhCLCBDLCBELCBBLCBYWzE0XSwgMTMpO1xuICBHRyhBLCBCLCBDLCBELCBYWzNdLCAzKTtcbiAgR0coRCwgQSwgQiwgQywgWFs3XSwgNSk7XG4gIEdHKEMsIEQsIEEsIEIsIFhbMTFdLCA5KTtcbiAgR0coQiwgQywgRCwgQSwgWFsxNV0sIDEzKTtcblxuICBISChBLCBCLCBDLCBELCBYWzBdLCAzKTtcbiAgSEgoRCwgQSwgQiwgQywgWFs4XSwgOSk7XG4gIEhIKEMsIEQsIEEsIEIsIFhbNF0sIDExKTtcbiAgSEgoQiwgQywgRCwgQSwgWFsxMl0sIDE1KTtcbiAgSEgoQSwgQiwgQywgRCwgWFsyXSwgMyk7XG4gIEhIKEQsIEEsIEIsIEMsIFhbMTBdLCA5KTtcbiAgSEgoQywgRCwgQSwgQiwgWFs2XSwgMTEpO1xuICBISChCLCBDLCBELCBBLCBYWzE0XSwgMTUpO1xuICBISChBLCBCLCBDLCBELCBYWzFdLCAzKTtcbiAgSEgoRCwgQSwgQiwgQywgWFs5XSwgOSk7XG4gIEhIKEMsIEQsIEEsIEIsIFhbNV0sIDExKTtcbiAgSEgoQiwgQywgRCwgQSwgWFsxM10sIDE1KTtcbiAgSEgoQSwgQiwgQywgRCwgWFszXSwgMyk7XG4gIEhIKEQsIEEsIEIsIEMsIFhbMTFdLCA5KTtcbiAgSEgoQywgRCwgQSwgQiwgWFs3XSwgMTEpO1xuICBISChCLCBDLCBELCBBLCBYWzE1XSwgMTUpO1xuXG4gIEEgKz0gQUE7XG4gIEIgKz0gQkI7XG4gIEMgKz0gQ0M7XG4gIEQgKz0gREQ7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIC8vICdiYWFhJyDjga4gbWQ0IOOCkuioiOeul1xuICB1cGRhdGUodWludFtdKFxuICAgIDB4NjE2MTYxNjJ1LCAweDgwdSwgMHUsIDB1LFxuICAgIDB1LCAwdSwgMHUsIDB1LFxuICAgIDB1LCAwdSwgMHUsIDB1LFxuICAgIDB1LCAwdSwgMzJ1LCAwdSkpO1xuICByZXN1bHQgPSB1dmVjNChBLCBCLCBDLCBEKTtcbn1cbmA7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGAjdmVyc2lvbiAzMDAgZXNcblxudm9pZCBtYWluKHZvaWQpIHtcbn1cbmA7XHJcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuaW1wb3J0IHsgZ2V0U2hhZGVyIH0gZnJvbSAnLi4vY29tbW9uJztcclxuaW1wb3J0IGZyYWdtZW50U2hhZGVyU291cmNlIGZyb20gJy4vZnJhZy5nbHNsJztcclxuaW1wb3J0IHZlcnRleFNoYWRlclNvdXJjZSBmcm9tICcuL3ZlcnQuZ2xzbCc7XHJcbi8qKlxyXG4gKiBNRDQg5Lim5YiX5a6f6KGMXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcclxuICAgIC8vIDMg44OQ44Kk44OI5YiG44KS5ZCM5pmC44Gr5Yem55CG44GZ44KLXHJcbiAgICBjb25zdCBOID0gMSA8PCAyNDtcclxuICAgIGNvbnN0IE1BWF9TVEVQID0gMSA8PCA4O1xyXG4gICAgY29uc3QgY3ZzID0gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XHJcbiAgICBjb25zdCBnbCA9IGN2cy5nZXRDb250ZXh0KCd3ZWJnbDInKTtcclxuICAgIC8vIGNyZWF0ZSBzaGFkZXIgcHJvZ3JhbVxyXG4gICAgY29uc3QgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcclxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnZXRTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNoYWRlclNvdXJjZSkpO1xyXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdldFNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSkpO1xyXG4gICAgZ2wudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyhwcm9ncmFtLCBbJ3Jlc3VsdCddLCBnbC5TRVBBUkFURV9BVFRSSUJTKTtcclxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIC8vIGNyZWF0ZSBidWZmZXJcclxuICAgIGNvbnN0IGFjY0xvYyA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhY2MnKTtcclxuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGFjY0xvYyk7XHJcbiAgICBjb25zdCBidWZmMCA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmYwKTtcclxuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBVaW50MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCAqIE4sIGdsLlNUUkVBTV9DT1BZKTtcclxuICAgIGdsLnZlcnRleEF0dHJpYklQb2ludGVyKGFjY0xvYywgMSwgZ2wuVU5TSUdORURfSU5ULCAwLCAwKTtcclxuICAgIGNvbnN0IGJ1ZmYxID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgYnVmZjEpO1xyXG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UICogTiwgZ2wuU1RSRUFNX0NPUFkpO1xyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgZ2wuYmluZFRyYW5zZm9ybUZlZWRiYWNrKGdsLlRSQU5TRk9STV9GRUVEQkFDSywgZ2wuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKSk7XHJcbiAgICBnbC5iaW5kQnVmZmVyQmFzZShnbC5UUkFOU0ZPUk1fRkVFREJBQ0tfQlVGRkVSLCAwLCBidWZmMSk7XHJcbiAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgLy8gZHJhd1xyXG4gICAgZ2wuZW5hYmxlKGdsLlJBU1RFUklaRVJfRElTQ0FSRCk7XHJcbiAgICBjb25zdCBidWZmID0gW2J1ZmYwLCBidWZmMV07XHJcbiAgICBmb3IgKGxldCBzdGVwID0gMDsgc3RlcCA8IE1BWF9TVEVQOyBzdGVwKyspIHtcclxuICAgICAgICBnbC51bmlmb3JtMXVpKGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAnc3RlcCcpLCBzdGVwKTtcclxuICAgICAgICBnbC5iZWdpblRyYW5zZm9ybUZlZWRiYWNrKGdsLlBPSU5UUyk7XHJcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5QT0lOVFMsIDAsIE4pO1xyXG4gICAgICAgIGdsLmVuZFRyYW5zZm9ybUZlZWRiYWNrKCk7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlckJhc2UoZ2wuVFJBTlNGT1JNX0ZFRURCQUNLX0JVRkZFUiwgMCwgYnVmZlswXSk7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmZbMV0pO1xyXG4gICAgICAgIGdsLnZlcnRleEF0dHJpYklQb2ludGVyKGFjY0xvYywgMSwgZ2wuVU5TSUdORURfSU5ULCAwLCAwKTtcclxuICAgICAgICBidWZmLnJldmVyc2UoKTtcclxuICAgIH1cclxuICAgIGdsLmRpc2FibGUoZ2wuUkFTVEVSSVpFUl9ESVNDQVJEKTtcclxuICAgIGdsLmZpbmlzaCgpO1xyXG4gICAgLy8g57WQ5p6c44Gu6KGo56S6XHJcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgVWludDMyQXJyYXkoTik7XHJcbiAgICBnbC5nZXRCdWZmZXJTdWJEYXRhKGdsLlRSQU5TRk9STV9GRUVEQkFDS19CVUZGRVIsIDAsIHJlc3VsdCk7XHJcbiAgICByZXN1bHQuZm9yRWFjaChlID0+IHtcclxuICAgICAgICBpZiAoZSAhPSAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy8g44OP44OD44K344Ol44Os44O844OI6KiI566XXHJcbiAgICBjb25zdCBlbmQgPSBwZXJmb3JtYW5jZS5ub3coKTtcclxuICAgIGNvbnNvbGUubG9nKGBkdXJhdGlvbjogJHtNYXRoLnJvdW5kKGVuZCAtIHN0YXJ0KX0gbXNgKTtcclxuICAgIGNvbnNvbGUubG9nKGBoYXNoIHJhdGU6ICR7TWF0aC5yb3VuZCgoTiAqIE1BWF9TVEVQICogMTAwMCAvIChlbmQgLSBzdGFydCkpIC8gKE1hdGgucG93KDEwMjQsIDIpKSl9IE1IL3NgKTtcclxufSk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGAjdmVyc2lvbiAzMDAgZXNcblxuaW4gdWludCBhY2M7XG5cbmZsYXQgb3V0IHVpbnQgcmVzdWx0O1xuXG51bmlmb3JtIHVpbnQgc3RlcDtcblxudWludCBGKHVpbnQgWCwgdWludCBZLCB1aW50IFopIHtcbiAgcmV0dXJuIFggJiBZIHwgflggICYgWjtcbn1cblxudWludCBHKHVpbnQgWCwgdWludCBZLCB1aW50IFopIHtcbiAgcmV0dXJuIFggJiBZIHwgWCAmIFogfCBZICYgWjtcbn1cblxudWludCBIKHVpbnQgWCwgdWludCBZLCB1aW50IFopIHtcbiAgcmV0dXJuIFggXiBZIF4gWjtcbn1cblxudWludCByb3RhdGUodWludCBhLCBpbnQgcykge1xuICByZXR1cm4gYSA8PCBzIHwgYSA+PiAoMzIgLSBzKTtcbn1cblxudm9pZCBGRihpbm91dCB1aW50IGEsIHVpbnQgYiwgdWludCBjLCB1aW50IGQsIHVpbnQgeCwgaW50IHMpIHtcbiAgYSA9IHJvdGF0ZShhICsgRihiLCBjLCBkKSArIHgsIHMpO1xufVxuXG52b2lkIEdHKGlub3V0IHVpbnQgYSwgdWludCBiLCB1aW50IGMsIHVpbnQgZCwgdWludCB4LCBpbnQgcykge1xuICBhID0gcm90YXRlKGEgKyBHKGIsIGMsIGQpICsgeCArIDB4NWE4Mjc5OTl1LCBzKTtcbn1cblxudm9pZCBISChpbm91dCB1aW50IGEsIHVpbnQgYiwgdWludCBjLCB1aW50IGQsIHVpbnQgeCwgaW50IHMpIHtcbiAgYSA9IHJvdGF0ZShhICsgSChiLCBjLCBkKSArIHggKyAweDZlZDllYmExdSwgcyk7XG59XG5cbnVpbnQgQSA9IDB4Njc0NTIzMDF1O1xudWludCBCID0gMHhlZmNkYWI4OXU7XG51aW50IEMgPSAweDk4YmFkY2ZldTtcbnVpbnQgRCA9IDB4MTAzMjU0NzZ1O1xuXG52b2lkIHVwZGF0ZSh1aW50IFhbMTZdKSB7XG4gIHVpbnQgQUEgPSBBO1xuICB1aW50IEJCID0gQjtcbiAgdWludCBDQyA9IEM7XG4gIHVpbnQgREQgPSBEO1xuXG4gIEZGKEEsIEIsIEMsIEQsIFhbMF0sIDMpO1xuICBGRihELCBBLCBCLCBDLCBYWzFdLCA3KTtcbiAgRkYoQywgRCwgQSwgQiwgWFsyXSwgMTEpO1xuICBGRihCLCBDLCBELCBBLCBYWzNdLCAxOSk7XG4gIEZGKEEsIEIsIEMsIEQsIFhbNF0sIDMpO1xuICBGRihELCBBLCBCLCBDLCBYWzVdLCA3KTtcbiAgRkYoQywgRCwgQSwgQiwgWFs2XSwgMTEpO1xuICBGRihCLCBDLCBELCBBLCBYWzddLCAxOSk7XG4gIEZGKEEsIEIsIEMsIEQsIFhbOF0sIDMpO1xuICBGRihELCBBLCBCLCBDLCBYWzldLCA3KTtcbiAgRkYoQywgRCwgQSwgQiwgWFsxMF0sIDExKTtcbiAgRkYoQiwgQywgRCwgQSwgWFsxMV0sIDE5KTtcbiAgRkYoQSwgQiwgQywgRCwgWFsxMl0sIDMpO1xuICBGRihELCBBLCBCLCBDLCBYWzEzXSwgNyk7XG4gIEZGKEMsIEQsIEEsIEIsIFhbMTRdLCAxMSk7XG4gIEZGKEIsIEMsIEQsIEEsIFhbMTVdLCAxOSk7XG5cbiAgR0coQSwgQiwgQywgRCwgWFswXSwgMyk7XG4gIEdHKEQsIEEsIEIsIEMsIFhbNF0sIDUpO1xuICBHRyhDLCBELCBBLCBCLCBYWzhdLCA5KTtcbiAgR0coQiwgQywgRCwgQSwgWFsxMl0sIDEzKTtcbiAgR0coQSwgQiwgQywgRCwgWFsxXSwgMyk7XG4gIEdHKEQsIEEsIEIsIEMsIFhbNV0sIDUpO1xuICBHRyhDLCBELCBBLCBCLCBYWzldLCA5KTtcbiAgR0coQiwgQywgRCwgQSwgWFsxM10sIDEzKTtcbiAgR0coQSwgQiwgQywgRCwgWFsyXSwgMyk7XG4gIEdHKEQsIEEsIEIsIEMsIFhbNl0sIDUpO1xuICBHRyhDLCBELCBBLCBCLCBYWzEwXSwgOSk7XG4gIEdHKEIsIEMsIEQsIEEsIFhbMTRdLCAxMyk7XG4gIEdHKEEsIEIsIEMsIEQsIFhbM10sIDMpO1xuICBHRyhELCBBLCBCLCBDLCBYWzddLCA1KTtcbiAgR0coQywgRCwgQSwgQiwgWFsxMV0sIDkpO1xuICBHRyhCLCBDLCBELCBBLCBYWzE1XSwgMTMpO1xuXG4gIEhIKEEsIEIsIEMsIEQsIFhbMF0sIDMpO1xuICBISChELCBBLCBCLCBDLCBYWzhdLCA5KTtcbiAgSEgoQywgRCwgQSwgQiwgWFs0XSwgMTEpO1xuICBISChCLCBDLCBELCBBLCBYWzEyXSwgMTUpO1xuICBISChBLCBCLCBDLCBELCBYWzJdLCAzKTtcbiAgSEgoRCwgQSwgQiwgQywgWFsxMF0sIDkpO1xuICBISChDLCBELCBBLCBCLCBYWzZdLCAxMSk7XG4gIEhIKEIsIEMsIEQsIEEsIFhbMTRdLCAxNSk7XG4gIEhIKEEsIEIsIEMsIEQsIFhbMV0sIDMpO1xuICBISChELCBBLCBCLCBDLCBYWzldLCA5KTtcbiAgSEgoQywgRCwgQSwgQiwgWFs1XSwgMTEpO1xuICBISChCLCBDLCBELCBBLCBYWzEzXSwgMTUpO1xuICBISChBLCBCLCBDLCBELCBYWzNdLCAzKTtcbiAgSEgoRCwgQSwgQiwgQywgWFsxMV0sIDkpO1xuICBISChDLCBELCBBLCBCLCBYWzddLCAxMSk7XG4gIEhIKEIsIEMsIEQsIEEsIFhbMTVdLCAxNSk7XG5cbiAgQSArPSBBQTtcbiAgQiArPSBCQjtcbiAgQyArPSBDQztcbiAgRCArPSBERDtcbn1cblxudm9pZCBtYWluKHZvaWQpIHtcbiAgLy8g44OP44OD44K344Ol5YCk44Gu5YWI6aCt44GMIDAwMDAwMDAwIOOBruWFpeWKm+OCkuaOouOBmVxuICB1aW50IHdvcmQgPSBzdGVwIDw8IDI0IHwgdWludChnbF9WZXJ0ZXhJRCk7XG4gIHVwZGF0ZSh1aW50W10oXG4gICAgd29yZCwgMHg4MHUsIDB1LCAwdSxcbiAgICAwdSwgMHUsIDB1LCAwdSxcbiAgICAwdSwgMHUsIDB1LCAwdSxcbiAgICAwdSwgMHUsIDMydSwgMHUpKTtcbiAgcmVzdWx0ID0gKEEgPT0gMHgwMDAwMDAwMHUpID8gd29yZCA6IGFjYztcbn1cbmA7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGAjdmVyc2lvbiAzMDAgZXNcblxudm9pZCBtYWluKHZvaWQpIHtcbn1cbmA7XHJcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufTtcclxuaW1wb3J0IHsgZ2V0U2hhZGVyIH0gZnJvbSAnLi4vY29tbW9uJztcclxuaW1wb3J0IGZyYWdtZW50U2hhZGVyU291cmNlIGZyb20gJy4vZnJhZy5nbHNsJztcclxuaW1wb3J0IHZlcnRleFNoYWRlclNvdXJjZSBmcm9tICcuL3ZlcnQuZ2xzbCc7XHJcbi8qKlxyXG4gKiBNRDQg5Lim5YiX5a6f6KGMKGZvciBsb29wIOeJiClcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xyXG4gICAgLy8gMiDjg5DjgqTjg4jliIbjgpLlkIzmmYLjgavlh6bnkIbjgZnjgotcclxuICAgIGNvbnN0IE4gPSAxIDw8IDE2O1xyXG4gICAgY29uc3QgY3ZzID0gZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XHJcbiAgICBjb25zdCBnbCA9IGN2cy5nZXRDb250ZXh0KCd3ZWJnbDInKTtcclxuICAgIC8vIGNyZWF0ZSBzaGFkZXIgcHJvZ3JhbVxyXG4gICAgY29uc3QgcHJvZ3JhbSA9IGdsLmNyZWF0ZVByb2dyYW0oKTtcclxuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBnZXRTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNoYWRlclNvdXJjZSkpO1xyXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdldFNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcmFnbWVudFNoYWRlclNvdXJjZSkpO1xyXG4gICAgZ2wudHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyhwcm9ncmFtLCBbJ3Jlc3VsdCddLCBnbC5TRVBBUkFURV9BVFRSSUJTKTtcclxuICAgIGdsLmxpbmtQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuICAgIC8vIGNyZWF0ZSBidWZmZXJcclxuICAgIGdsLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhnbC5UUkFOU0ZPUk1fRkVFREJBQ0ssIGdsLmNyZWF0ZVRyYW5zZm9ybUZlZWRiYWNrKCkpO1xyXG4gICAgY29uc3QgYnVmZiA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGJ1ZmYpO1xyXG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIFVpbnQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UICogTiwgZ2wuU1RSRUFNX0NPUFkpO1xyXG4gICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIG51bGwpO1xyXG4gICAgZ2wuYmluZEJ1ZmZlckJhc2UoZ2wuVFJBTlNGT1JNX0ZFRURCQUNLX0JVRkZFUiwgMCwgYnVmZik7XHJcbiAgICBjb25zdCBzdGFydCA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgLy8gZHJhd1xyXG4gICAgZ2wuZW5hYmxlKGdsLlJBU1RFUklaRVJfRElTQ0FSRCk7XHJcbiAgICBnbC5iZWdpblRyYW5zZm9ybUZlZWRiYWNrKGdsLlBPSU5UUyk7XHJcbiAgICBnbC5kcmF3QXJyYXlzKGdsLlBPSU5UUywgMCwgTik7XHJcbiAgICBnbC5lbmRUcmFuc2Zvcm1GZWVkYmFjaygpO1xyXG4gICAgZ2wuZGlzYWJsZShnbC5SQVNURVJJWkVSX0RJU0NBUkQpO1xyXG4gICAgZ2wuZmluaXNoKCk7XHJcbiAgICAvLyDntZDmnpzjga7ooajnpLpcclxuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBVaW50MzJBcnJheShOKTtcclxuICAgIGdsLmdldEJ1ZmZlclN1YkRhdGEoZ2wuVFJBTlNGT1JNX0ZFRURCQUNLX0JVRkZFUiwgMCwgcmVzdWx0KTtcclxuICAgIHJlc3VsdC5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgIGlmIChlICE9IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyDjg4/jg4Pjgrfjg6Xjg6zjg7zjg4joqIjnrpdcclxuICAgIGNvbnN0IGVuZCA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgY29uc29sZS5sb2coYGR1cmF0aW9uOiAke01hdGgucm91bmQoZW5kIC0gc3RhcnQpfSBtc2ApO1xyXG4gICAgY29uc29sZS5sb2coYGhhc2ggcmF0ZTogJHtNYXRoLnJvdW5kKChNYXRoLnBvdygyLCAzMikgKiAxMDAwIC8gKGVuZCAtIHN0YXJ0KSkgLyAoTWF0aC5wb3coMTAyNCwgMykpKX0gR0gvc2ApO1xyXG59KTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgYCN2ZXJzaW9uIDMwMCBlc1xuXG5mbGF0IG91dCB1aW50IHJlc3VsdDtcblxudWludCBGKHVpbnQgWCwgdWludCBZLCB1aW50IFopIHtcbiAgcmV0dXJuIFggJiBZIHwgflggICYgWjtcbn1cblxudWludCBHKHVpbnQgWCwgdWludCBZLCB1aW50IFopIHtcbiAgcmV0dXJuIFggJiBZIHwgWCAmIFogfCBZICYgWjtcbn1cblxudWludCBIKHVpbnQgWCwgdWludCBZLCB1aW50IFopIHtcbiAgcmV0dXJuIFggXiBZIF4gWjtcbn1cblxudWludCByb3RhdGUodWludCBhLCBpbnQgcykge1xuICByZXR1cm4gYSA8PCBzIHwgYSA+PiAoMzIgLSBzKTtcbn1cblxudm9pZCBGRihpbm91dCB1aW50IGEsIHVpbnQgYiwgdWludCBjLCB1aW50IGQsIHVpbnQgeCwgaW50IHMpIHtcbiAgYSA9IHJvdGF0ZShhICsgRihiLCBjLCBkKSArIHgsIHMpO1xufVxuXG52b2lkIEdHKGlub3V0IHVpbnQgYSwgdWludCBiLCB1aW50IGMsIHVpbnQgZCwgdWludCB4LCBpbnQgcykge1xuICBhID0gcm90YXRlKGEgKyBHKGIsIGMsIGQpICsgeCArIDB4NWE4Mjc5OTl1LCBzKTtcbn1cblxudm9pZCBISChpbm91dCB1aW50IGEsIHVpbnQgYiwgdWludCBjLCB1aW50IGQsIHVpbnQgeCwgaW50IHMpIHtcbiAgYSA9IHJvdGF0ZShhICsgSChiLCBjLCBkKSArIHggKyAweDZlZDllYmExdSwgcyk7XG59XG5cbnVpbnQgQTtcbnVpbnQgQjtcbnVpbnQgQztcbnVpbnQgRDtcblxudm9pZCB1cGRhdGUodWludCBYWzE2XSkge1xuICB1aW50IEFBID0gQTtcbiAgdWludCBCQiA9IEI7XG4gIHVpbnQgQ0MgPSBDO1xuICB1aW50IEREID0gRDtcblxuICBGRihBLCBCLCBDLCBELCBYWzBdLCAzKTtcbiAgRkYoRCwgQSwgQiwgQywgWFsxXSwgNyk7XG4gIEZGKEMsIEQsIEEsIEIsIFhbMl0sIDExKTtcbiAgRkYoQiwgQywgRCwgQSwgWFszXSwgMTkpO1xuICBGRihBLCBCLCBDLCBELCBYWzRdLCAzKTtcbiAgRkYoRCwgQSwgQiwgQywgWFs1XSwgNyk7XG4gIEZGKEMsIEQsIEEsIEIsIFhbNl0sIDExKTtcbiAgRkYoQiwgQywgRCwgQSwgWFs3XSwgMTkpO1xuICBGRihBLCBCLCBDLCBELCBYWzhdLCAzKTtcbiAgRkYoRCwgQSwgQiwgQywgWFs5XSwgNyk7XG4gIEZGKEMsIEQsIEEsIEIsIFhbMTBdLCAxMSk7XG4gIEZGKEIsIEMsIEQsIEEsIFhbMTFdLCAxOSk7XG4gIEZGKEEsIEIsIEMsIEQsIFhbMTJdLCAzKTtcbiAgRkYoRCwgQSwgQiwgQywgWFsxM10sIDcpO1xuICBGRihDLCBELCBBLCBCLCBYWzE0XSwgMTEpO1xuICBGRihCLCBDLCBELCBBLCBYWzE1XSwgMTkpO1xuXG4gIEdHKEEsIEIsIEMsIEQsIFhbMF0sIDMpO1xuICBHRyhELCBBLCBCLCBDLCBYWzRdLCA1KTtcbiAgR0coQywgRCwgQSwgQiwgWFs4XSwgOSk7XG4gIEdHKEIsIEMsIEQsIEEsIFhbMTJdLCAxMyk7XG4gIEdHKEEsIEIsIEMsIEQsIFhbMV0sIDMpO1xuICBHRyhELCBBLCBCLCBDLCBYWzVdLCA1KTtcbiAgR0coQywgRCwgQSwgQiwgWFs5XSwgOSk7XG4gIEdHKEIsIEMsIEQsIEEsIFhbMTNdLCAxMyk7XG4gIEdHKEEsIEIsIEMsIEQsIFhbMl0sIDMpO1xuICBHRyhELCBBLCBCLCBDLCBYWzZdLCA1KTtcbiAgR0coQywgRCwgQSwgQiwgWFsxMF0sIDkpO1xuICBHRyhCLCBDLCBELCBBLCBYWzE0XSwgMTMpO1xuICBHRyhBLCBCLCBDLCBELCBYWzNdLCAzKTtcbiAgR0coRCwgQSwgQiwgQywgWFs3XSwgNSk7XG4gIEdHKEMsIEQsIEEsIEIsIFhbMTFdLCA5KTtcbiAgR0coQiwgQywgRCwgQSwgWFsxNV0sIDEzKTtcblxuICBISChBLCBCLCBDLCBELCBYWzBdLCAzKTtcbiAgSEgoRCwgQSwgQiwgQywgWFs4XSwgOSk7XG4gIEhIKEMsIEQsIEEsIEIsIFhbNF0sIDExKTtcbiAgSEgoQiwgQywgRCwgQSwgWFsxMl0sIDE1KTtcbiAgSEgoQSwgQiwgQywgRCwgWFsyXSwgMyk7XG4gIEhIKEQsIEEsIEIsIEMsIFhbMTBdLCA5KTtcbiAgSEgoQywgRCwgQSwgQiwgWFs2XSwgMTEpO1xuICBISChCLCBDLCBELCBBLCBYWzE0XSwgMTUpO1xuICBISChBLCBCLCBDLCBELCBYWzFdLCAzKTtcbiAgSEgoRCwgQSwgQiwgQywgWFs5XSwgOSk7XG4gIEhIKEMsIEQsIEEsIEIsIFhbNV0sIDExKTtcbiAgSEgoQiwgQywgRCwgQSwgWFsxM10sIDE1KTtcbiAgSEgoQSwgQiwgQywgRCwgWFszXSwgMyk7XG4gIEhIKEQsIEEsIEIsIEMsIFhbMTFdLCA5KTtcbiAgSEgoQywgRCwgQSwgQiwgWFs3XSwgMTEpO1xuICBISChCLCBDLCBELCBBLCBYWzE1XSwgMTUpO1xuXG4gIEEgKz0gQUE7XG4gIEIgKz0gQkI7XG4gIEMgKz0gQ0M7XG4gIEQgKz0gREQ7XG59XG5cbnZvaWQgbWFpbih2b2lkKSB7XG4gIC8vIOODj+ODg+OCt+ODpeWApOOBruWFiOmgreOBjCAwMDAwMDAwMCDjga7lhaXlipvjgpLmjqLjgZlcbiAgZm9yICh1aW50IGkgPSAwdTsgaSA8IDF1IDw8IDE2OyBpKyspIHtcbiAgICBBID0gMHg2NzQ1MjMwMXU7XG4gICAgQiA9IDB4ZWZjZGFiODl1O1xuICAgIEMgPSAweDk4YmFkY2ZldTtcbiAgICBEID0gMHgxMDMyNTQ3NnU7XG4gICAgdWludCB3b3JkID0gaSA8PCAxNiB8IHVpbnQoZ2xfVmVydGV4SUQpO1xuICAgIHVwZGF0ZSh1aW50W10oXG4gICAgICB3b3JkLCAweDgwdSwgMHUsIDB1LFxuICAgICAgMHUsIDB1LCAwdSwgMHUsXG4gICAgICAwdSwgMHUsIDB1LCAwdSxcbiAgICAgIDB1LCAwdSwgMzJ1LCAwdSkpO1xuICAgIGlmIChBID09IDB4MDAwMDAwMDB1KSB7XG4gICAgICByZXN1bHQgPSB3b3JkO1xuICAgIH1cbiAgfVxufVxuYDtcclxuIiwiZXhwb3J0IGRlZmF1bHQgYCN2ZXJzaW9uIDMwMCBlc1xuXG52b2lkIG1haW4odm9pZCkge1xufVxuYDtcclxuIl0sIm5hbWVzIjpbImdldFNoYWRlciIsImdsIiwidHlwZSIsInNvdXJjZSIsInNoYWRlciIsImNyZWF0ZVNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsIkVycm9yIiwiZ2V0U2hhZGVySW5mb0xvZyIsInRyYW5zZmVyQXR0cmliRGF0YSIsImRhdGEiLCJsb2MiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiY3JlYXRlQnVmZmVyIiwiYnVmZmVyRGF0YSIsIkZsb2F0MzJBcnJheSIsIlNUQVRJQ19EUkFXIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJwYWdlcyIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwiY3ZzIiwiZG9jdW1lbnQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJoZWlnaHQiLCJnZXRDb250ZXh0IiwiY2xlYXJDb2xvciIsInByb2dyYW0iLCJjcmVhdGVQcm9ncmFtIiwiYXR0YWNoU2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsIkZSQUdNRU5UX1NIQURFUiIsImxpbmtQcm9ncmFtIiwidXNlUHJvZ3JhbSIsImdldEF0dHJpYkxvY2F0aW9uIiwidW5pZm9ybU1hdHJpeDRmdiIsImdldFVuaWZvcm1Mb2NhdGlvbiIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsImRyYXdBcnJheXMiLCJUUklBTkdMRVMiLCJQIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsInRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MiLCJTRVBBUkFURV9BVFRSSUJTIiwiYmluZFRyYW5zZm9ybUZlZWRiYWNrIiwiVFJBTlNGT1JNX0ZFRURCQUNLIiwiY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2siLCJidWZmIiwiQllURVNfUEVSX0VMRU1FTlQiLCJEWU5BTUlDX0NPUFkiLCJiaW5kQnVmZmVyQmFzZSIsIlRSQU5TRk9STV9GRUVEQkFDS19CVUZGRVIiLCJlbmFibGUiLCJSQVNURVJJWkVSX0RJU0NBUkQiLCJiZWdpblRyYW5zZm9ybUZlZWRiYWNrIiwiUE9JTlRTIiwiZW5kVHJhbnNmb3JtRmVlZGJhY2siLCJkaXNhYmxlIiwiZ2V0QnVmZmVyU3ViRGF0YSIsImNvbnNvbGUiLCJsb2ciLCJJTlRFUkxFQVZFRF9BVFRSSUJTIiwiTiIsInBhcnRpY2xlcyIsImkiLCJwdXNoIiwiTWF0aCIsInJhbmRvbSIsImJ1ZmYwIiwiU1RSRUFNX0NPUFkiLCJwb3NMb2MiLCJ2ZWxMb2MiLCJidWZmMSIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsIm1vdXNlWCIsIm9mZnNldFgiLCJtb3VzZVkiLCJvZmZzZXRZIiwidW5pZm9ybTJmIiwicmV2ZXJzZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIlVpbnQ4QXJyYXkiLCJoZXgiLCJ0b1N0cmluZyIsImFjY0xvYyIsIlVpbnQzMkFycmF5IiwidmVydGV4QXR0cmliSVBvaW50ZXIiLCJVTlNJR05FRF9JTlQiLCJzdGFydCIsInBlcmZvcm1hbmNlIiwibm93IiwidW5pZm9ybTF1aSIsImZpbmlzaCIsImZvckVhY2giLCJlbmQiLCJyb3VuZCIsInBvdyIsImluZGV4IiwidWwiLCJwYWdlIiwiYSIsImhyZWYiLCJ0ZXh0Q29udGVudCIsIndpbmRvdyIsIm9ubG9hZCIsIlVSTCIsImxvY2F0aW9uIiwic2VhcmNoUGFyYW1zIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiIifQ==